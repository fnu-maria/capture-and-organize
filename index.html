<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Capture and Organize</title>
    <link rel="stylesheet" href="css/style.css">
    
    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">
    
    <!-- Theme Color -->
    <meta name="theme-color" content="#8A2BE2">
</head>
<body>
    <div class="background"></div>
    
    <div class="app-container">
        <header class="app-header">
            <h1>Capture and Organize</h1>
            <nav class="main-nav">
                <button role="button" class="nav-button active" data-view="tasks">Tasks</button>
                <button role="button" class="nav-button" data-view="events">Events</button>
                <button role="button" class="nav-button" data-view="calendar">Calendar</button>
                <button role="button" class="nav-button" data-view="settings">Settings</button>
            </nav>
        </header>

        <main class="main-content">
            <!-- Tasks View -->
            <div id="tasks-view" class="view active">
                <h2>Task List</h2>
                <div class="task-form">
                    <label for="task-title" class="input-label">
                        <span class="label-title">Task title</span>
                        <input type="text" id="task-title" class="styled-input" name="text" placeholder="Enter task title">
                    </label>
                    <select id="task-priority" aria-label="Task priority">
                        <option value="low">Low</option>
                        <option value="medium">Medium</option>
                        <option value="high">High</option>
                    </select>
                    <input type="datetime-local" id="task-due-date" aria-label="Due date">
                    <button class="cssbuttons-io-button" id="add-task-btn">
                        <svg height="24" width="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M0 0h24v24H0z" fill="none"></path>
                            <path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z" fill="currentColor"></path>
                        </svg>
                        <span>Add Task</span>
                    </button>
                </div>
                <div id="task-list" class="task-list"></div>
            </div>

            <!-- Events View -->
            <div id="events-view" class="view">
                <h2>Event Capture</h2>
                <div class="camera-section">
                    <video id="camera-preview" autoplay></video>
                    <button class="cssbuttons-io-button" id="capture-btn" style="margin-top: 15px;">
                        <span>Capture Photo</span>
                    </button>
                    <canvas id="photo-canvas" style="display:none;"></canvas>
                </div>
                
                <div class="ocr-results">
                    <h3>Extracted Text:</h3>
                    <div id="extracted-text" class="extracted-text">No image captured yet.</div>
                    <button class="cssbuttons-io-button" id="extract-text-btn" style="display:none; margin-top: 10px;">
                        <span>Extract Text from Photo</span>
                    </button>
                </div>
                
                <div class="event-form">
                    <label for="event-title" class="input-label">
                        <span class="label-title">Event title</span>
                        <input type="text" id="event-title" class="styled-input" placeholder="Event title (auto-filled from OCR)">
                    </label>
                    
                    <input type="datetime-local" id="event-datetime" aria-label="Event date and time" style="padding: 12px; border-radius: 8px; border: 1px solid var(--border-color);">
                    
                    <label for="event-description" class="input-label">
                        <span class="label-title">Description</span>
                        <textarea id="event-description" class="styled-input" placeholder="Event description (auto-filled from OCR)" style="min-height: 80px; resize: vertical;"></textarea>
                    </label>
                    
                    <div class="save-options">
                        <button class="cssbuttons-io-button" id="save-local-btn" style="background: linear-gradient(0deg, #06d6a0 0%, #04a580 100%);">
                            <span>Save to Local Calendar</span>
                        </button>
                        <button class="cssbuttons-io-button" id="export-google-btn" style="background: linear-gradient(0deg, #4285F4 0%, #3367D6 100%);">
                            <span>Export to Google Calendar</span>
                        </button>
                    </div>
                </div>
            </div>

            <!-- Calendar View -->
            <div id="calendar-view" class="view">
                <h2>Calendar</h2>
                <div id="calendar" class="calendar">
                    <p>Your events will appear here...</p>
                </div>
            </div>

            <!-- Settings View -->
            <div id="settings-view" class="view">
                <h2>Settings</h2>
                <div class="setting-group">
                    <label for="theme-select">Theme:</label>
                    <select id="theme-select" aria-label="Select theme">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="font-size">Font Size:</label>
                    <select id="font-size" aria-label="Select font size">
                        <option value="12">12pt</option>
                        <option value="14">14pt</option>
                        <option value="16">16pt</option>
                        <option value="18">18pt</option>
                    </select>
                </div>
                <div class="setting-group">
                    <label for="notifications-toggle" style="display: flex; align-items: center; gap: 10px;">
                        Enable Notifications:
                        <label class="checkbox-container">
                            <input type="checkbox" id="notifications-toggle" checked>
                            <div class="checkmark"></div>
                        </label>
                    </label>
                </div>
                <button id="save-settings-btn" class="cssbuttons-io-button" style="background: linear-gradient(0deg, #4158D0 0%, #C850C0 100%);">
                    <span>Save Settings</span>
                </button>
                <div class="setting-group">
                    <button id="clear-data-btn" class="cssbuttons-io-button" style="background: linear-gradient(0deg, #ff6b6b 0%, #ff5252 100%);">
                        <span>Clear All Data</span>
                    </button>
                </div>
            </div>
        </main>
    </div>

    <!-- Include Tesseract.js from CDN -->
    <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
    
    <!-- Include our JavaScript files -->
    <script src="js/models/TaskModel.js"></script>
    <script src="js/models/EventModel.js"></script>
    <script src="js/models/UserSettingsModel.js"></script>
    
    <script src="js/views/TaskView.js"></script>
    <script src="js/views/EventView.js"></script>
    <script src="js/views/CalendarView.js"></script>
    <script src="js/views/SettingsView.js"></script>
    
    <script src="js/controllers/TaskController.js"></script>
    <script src="js/controllers/EventController.js"></script>
    <script src="js/controllers/UserSettingsController.js"></script>
    
    <script src="js/app.js"></script>
</body>
</html>